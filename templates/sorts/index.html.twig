{% extends 'base.html.twig' %}

{% block nav %} {% include "header.html.twig" %} {% endblock %}

{% block body %}
    <h1>Liste des sorts</h1>
<form action="" method="post">
    <select name="sortsFilterClass" id="sortsFilterClass">
        {% for classe in classes %}
            <option name="classe" value="{{ classe.id }}">{{ classe.nom }}</option>
        {% endfor %}
    </select> 
    <select name="sortsFilterLvl" id="sortsFilterLvl">
        {% for i in 1..9 %}
             <option name="lvl" value="{{ i }}">Niveau {{ i }}</option>
        {% endfor %}
    </select>    
    <input type="submit" value="Rechercher">
</form>

    <table class="table">
        <thead>
            <tr>
                <th>Numéro</th>
                <th>Nom</th>
                <th>Sauvegarde</th>
                <th>Temps d'incantation</th>
                <th>Portée</th>
                <th>Effet</th>
                <th>Durée</th>
                <th>Resistance magie</th>
                <th>Cibles</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>

{% set counter = 1 %}

        {% for dnd35_sort in dnd35_sorts %}
            <tr>
                <td>{{ counter }}</td>
                <td>{{ dnd35_sort.nom }}</td>
                <td>{{ dnd35_sort.sauvegarde }}</td>
                <td>{{ dnd35_sort.tempsincantation }}</td>
                <td>{{ dnd35_sort.portee }}</td>
                <td>{{ dnd35_sort.effet }}</td>
                <td>{{ dnd35_sort.duree }}</td>
                <td>{{ dnd35_sort.resistancemagie }}</td>
                <td>{{ dnd35_sort.cibles }}</td>
                <td>
                    <a href="{{ path('app_sorts_show', {'id': dnd35_sort.id}) }}">show</a>
                    <a href="{{ path('app_sorts_edit', {'id': dnd35_sort.id}) }}">edit</a>
                </td>
            </tr>

            {% set counter = counter + 1 %}
            
        {% else %}
            <tr>
                <td colspan="14">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_sorts_new') }}">Create new</a>
{% endblock %}
